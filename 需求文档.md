# MarkPub - Markdown 一键发布软件需求文档

## 1. 项目概述

MarkPub 是一款支持 Markdown 笔记一键发布到多个博客平台的桌面软件，旨在简化文章发布流程，提高写作效率。

### 1.1 技术栈
- 开发语言：Python
- GUI 框架：PyQt6
- 界面风格：简洁现代（类似 VSCode）

### 1.2 主要特点
- Markdown 解析与实时预览
- 多平台发布支持（CSDN、掘金等）
- 简洁现代的界面设计
- 一键发布功能

## 2. 功能需求

### 2.1 核心功能

| 功能模块 | 说明 |
|---------|------|
| Markdown 解析 | - 解析本地 Markdown 文件<br>- 支持基本格式<br>- 代码高亮<br>- 图片支持<br>- 数学公式支持 |
| Markdown 预览 | - 基于 QWebEngineView 的实时预览<br>- 所见即所得渲染效果 |
| 文件管理 | - 文件选择或拖拽功能<br>- 批量文件管理支持 |
| 文章编辑 | - 标题修改<br>- 分类设置<br>- 标签管理<br>- 摘要编辑 |
| 平台发布 | - 多平台选择<br>- 一键发布功能 |
| 账号管理 | - API Key 认证<br>- Cookie 登录支持 |
| 发布日志 | - 实时进度显示<br>- 发布状态追踪 |
| 历史记录 | - 已发布文章记录<br>- 快速查看功能<br>- 重新发布支持 |

### 2.2 进阶功能（后续规划）

| 功能模块 | 说明 |
|---------|------|
| 自动同步 | 指定目录文章定期同步 |
| 富文本编辑器 | 内置 Markdown 编辑功能 |
| 多平台格式优化 | 平台特定语法自动适配 |
| API 扩展 | 支持知乎、微信公众号等平台 |

## 3. 界面设计

### 3.1 设计原则
- ✅ 简洁现代风格（VSCode 风格）
- ✅ 支持暗色/亮色主题（默认暗色）
- ✅ 符合人体工程学的布局设计

### 3.2 界面布局

```
+-----------------------------------------+
| 文件列表  |    Markdown 预览区          |
| (左侧)    |    (右侧)                  |
|          +-----------------------------+
|          |  发布设置（选择平台、分类等） |
|          +-----------------------------+
|          |  发布日志 / 状态显示         |
+-----------------------------------------+
```

### 3.3 主要界面
1. 主界面
   - 文章管理区
   - Markdown 预览区
   - 发布选项面板
2. 设置页面
   - 账号管理
   - API 配置
   - 主题设置
3. 日志页面
   - 发布状态记录
   - 错误日志显示

## 4. 技术方案

### 4.1 后端技术栈

| 组件 | 用途 |
|------|------|
| Python 3.x | 主要开发语言 |
| requests/httpx | API 请求处理 |
| markdown/mistune | Markdown 解析引擎 |
| sqlite3 | 本地数据存储 |
| playwright/selenium | 模拟登录支持 |

### 4.2 前端技术栈

| 组件 | 用途 |
|------|------|
| PyQt6/PySide6 | GUI 框架 |
| QWebEngineView | Markdown 预览渲染 |
| QDarkStyle/Qt Material | 主题样式支持 |

## 5. 支持平台

- ✅ Windows
- ✅ macOS
- ✅ Linux（计划中）

## 6. 开发计划

| 阶段 | 任务 | 时间估计 |
|------|------|----------|
| 需求分析 | 需求文档编写 | 1 天 |
| UI 设计 | 界面设计完成 | 3 天 |
| API 研究 | CSDN/掘金 API 研究 | 3 天 |
| 基础开发 | Markdown 解析和 UI 实现 | 7 天 |
| 平台对接 | API 集成与发布功能 | 7 天 |
| 测试优化 | 功能测试与 Bug 修复 | 5 天 |
| 发布上线 | 软件打包与发布 | 3 天 |

## 7. 预期成果

🔹 完整的 Markdown 解析与预览功能  
🔹 稳定的 CSDN/掘金一键发布支持  
🔹 现代化且易用的界面设计  
🔹 良好的可扩展性架构

这份需求报告基本涵盖了整个项目的功能、技术方案和开发计划，你看有没有什么需要补充或者调整的？ 😊